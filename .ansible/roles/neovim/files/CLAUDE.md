# Claude Code グローバル設定

## 基本設定
- Claude Code による回答は、必ず日本語でお願いします。

## ワークフロールール

### TODOリストとレビュー
- TODOリストの全タスクが完了したら、**必ずコードレビューを実施する**
  - 変更したファイルの一覧を表示
  - 変更内容の要約を提示
  - 潜在的な問題点や改善提案を指摘
  - テストの実行が必要な場合は実行する

### 効率化ルール
- コミットメッセージは変更内容から自動生成する
- 複数ファイルの読み込みや検索は並列で実行する
- overview → symbol → 詳細と段階的に情報収集し、既読ファイルは再読み込みしない

### テスト実行ルール
#### テストファイルを編集した場合
1. **即座にテストを実行する（ユーザーに依頼しない）**
   - 編集したテストファイルを実行
   - 例: `bundle exec rspec <編集したファイルパス>` (Rails/RSpec)
2. テスト結果をユーザーに報告する
3. 失敗した場合は原因を調査し、修正する

#### 実装ファイルを編集した場合
1. **関連するテストを実行する（ユーザーに依頼しない）**
   - 例: `bundle exec rspec spec/<関連するテストファイル>` (Rails/RSpec)
2. テスト結果をユーザーに報告する

### 変更の原則
- 明示的に依頼されない限り、不要なリファクタリングは避ける
- 変更前に影響範囲を調査し、既存テストの有無を確認
- プロジェクトのコーディング規約・ディレクトリ構造に従う
- コード変更時は関連ドキュメント（README、CLAUDE.md等）も必要に応じて更新

### PRディスクリプション
- PRのディスクリプションを考える時は、PRテンプレートがある場合は必ずテンプレートを参考にすること

### エラー対応
- エラーが発生したら即座に報告し、対処方法をユーザーと相談
- 繰り返し同じエラーで失敗する場合は、別のアプローチを提案
