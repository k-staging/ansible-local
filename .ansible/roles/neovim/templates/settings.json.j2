{
  "enableAllProjectMcpServers": true,
  "permissions": {
    "allow": [
      "Read(**)",
      "Read(config/locales/**)",
      "Write(**)",
      "Write(config/locales/**)",
      "Edit(**)",
      "Edit(config/locales/**)",
      "Glob(**)",
      "Grep(**)",
      "Bash(**)"
    ],
    "deny": [
      "Read(log/**)",
      "Read(tmp/**)",
      "Read(node_modules/**)",
      "Read(storage/**)",
      "Read(public/assets/**)",
      "Read(public/packs/**)",
      "Read(vendor/**)",
      "Read(db/schema.rb)",
      "Read(**/*.sqlite3)",
      "Read(.env*)",
      "Read(**/.env*)",
      "Read(config/**)",
      "Read(**/*.pem)",
      "Read(**/*.key)",
      "Read(config/master.key)",
      "Read(config/credentials.yml.enc)",
      "Read(config/secrets.yml)",
      "Read(config/database.yml)",
      "Bash(git push*:*)",
      "Bash(git reset --hard*:*)",
      "Bash(gh repo delete*:*)",
      "Bash(gh repo archive*:*)",
      "Bash(gh release delete*:*)",
      "Bash(gh secret delete*:*)",
      "Bash(gh pr close*:*)",
      "Bash(gh issue close*:*)",
      "Bash(rm -rf /*:*)",
      "Bash(dd *:*)",
      "Bash(mkfs.*:*)",
      "Bash(curl *|*bash*:*)",
      "Bash(wget *|*sh*:*)",
      "Bash(*> /dev/sd*:*)"
    ]
  },
  "hooks": {
    "Stop": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
{% if ansible_distribution == 'MacOSX' %}
            "command": "terminal-notifier -title 'Claude Code' -message ' 処理が完了しました' -sound Ping"
{% else %}
            "command": "notify-send 'Claude Code' ' 処理が完了しました'"
{% endif %}
          }
        ]
      }
    ],
    "Notification": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
{% if ansible_distribution == 'MacOSX' %}
            "command": "terminal-notifier -title 'Claude Code' -message ' 入力待ちです' -sound Ping"
{% else %}
            "command": "notify-send 'Claude Code' ' 入力待ちです'"
{% endif %}
          }
        ]
      }
    ]
  },
  "env": {
    "CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC": "1"
  }
}
